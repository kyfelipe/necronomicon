<app-toolbar title="Add Class" navBack="/tabs/register"></app-toolbar>

<ion-content>
    <ion-grid>
        <form (ngSubmit)="save()">
            <ion-row>
                <ion-col size="8" class="mt-item-class">
                    <ion-item>
                        <ion-label position="stacked">
                            Title
                            <ion-text color="danger">*</ion-text>
                        </ion-label>
                        <ion-input [(ngModel)]="title" inputmode="text" name="title" type="text" placeholder="Title" required></ion-input>
                    </ion-item>
                </ion-col>
                <ion-col size="4">
                    <ion-item class="mt-item-class">
                        <ion-label position="stacked">
                            Number of periods
                            <ion-text color="danger">*</ion-text>
                        </ion-label>
                        <ion-input [(ngModel)]="numberOfPeriods" type="number" name="numberOfPeriods" placeholder="Number of periods" required></ion-input>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="5">
                    <ion-item>
                        <ion-label position="stacked">
                            Start date
                            <ion-text color="danger">*</ion-text>
                        </ion-label>
                        <ion-datetime [(ngModel)]="date" (ionChange)="setDayWeek()" name="date" displayFormat="DD/MM/YYYY" placeholder="Select date" min="1900-01-01" max="2050-12-31" required></ion-datetime>
                    </ion-item>
                </ion-col>
                <ion-col size="2">
                    <ion-item>
                        <ion-label position="stacked">
                            Day of the week
                        </ion-label>
                        <ion-datetime [(ngModel)]="dayWeek" name="dayWeek" displayFormat="DDDD" readonly></ion-datetime>
                    </ion-item>
                </ion-col>
                <ion-col size="5">
                    <ion-item>
                        <ion-label position="stacked">
                            Begin
                            <ion-text color="danger">*</ion-text>
                        </ion-label>
                        <ion-datetime [(ngModel)]="time" name="time" displayFormat="HH:mm" placeholder="Select begin" required></ion-datetime>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="12">
                    <ion-item>
                        <ion-label>Students</ion-label>
                        <ion-select [(ngModel)]="students" multiple="true">
                            <ion-select-option *ngFor="let student of students$ | async">{{student.studentNumber}} | {{student.name}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
            <ion-row class="ion-margin-top">
                <ion-col offset="10" size="2">
                    <ion-button expand="block" type="submit">Save</ion-button>
                </ion-col>
            </ion-row>
        </form>
    </ion-grid>
</ion-content>
